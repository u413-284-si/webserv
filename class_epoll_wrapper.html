<!-- HTML header for doxygen 1.9.4-->
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=11" />
	<meta name="generator" content="Doxygen 1.9.1" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>webserv: EpollWrapper Class Reference</title>
	<link href="tabs.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<link href="doxygen.css" rel="stylesheet" type="text/css" />
	<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
	<script type="text/javascript">
		DoxygenAwesomeDarkModeToggle.init()
	</script>
	<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
	<script type="text/javascript">
		DoxygenAwesomeFragmentCopyButton.init()
	</script>
	<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
	<script type="text/javascript">
		DoxygenAwesomeParagraphLink.init()
	</script>
</head>
<body>
		<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
			<div id="titlearea">
				<table cellspacing="0" cellpadding="0">
					<tbody>
						<tr id="projectrow">
							<td id="projectalign">
								<div id="projectname">webserv
								</div>
								<div id="projectbrief">This is when you finally understand why a URL starts with HTTP.</div>
							</td>
						</tr>
						<!--BEGIN FULL_SIDEBAR-->
						<tr>
							<td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
						</tr>
						<!--END FULL_SIDEBAR-->
					</tbody>
				</table>
			</div>
			<!-- end header part --><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_epoll_wrapper.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_epoll_wrapper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">EpollWrapper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Wrapper class for epoll instance.  
 <a href="class_epoll_wrapper.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_epoll_wrapper_8hpp_source.html">EpollWrapper.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EpollWrapper:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_epoll_wrapper__inherit__graph.svg" width="155" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a86a9d590472213c7253b26aefbda8c50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_epoll_wrapper.html#a86a9d590472213c7253b26aefbda8c50">EpollWrapper</a> (int maxEvents=s_epollMaxEvents, int epollTimeout=s_epollTimeout)</td></tr>
<tr class="memdesc:a86a9d590472213c7253b26aefbda8c50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for <a class="el" href="class_epoll_wrapper.html" title="Wrapper class for epoll instance.">EpollWrapper</a>.  <a href="class_epoll_wrapper.html#a86a9d590472213c7253b26aefbda8c50">More...</a><br /></td></tr>
<tr class="separator:a86a9d590472213c7253b26aefbda8c50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe7c99f138f7bbcf9c09c2d7a570d51"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_epoll_wrapper.html#a8fe7c99f138f7bbcf9c09c2d7a570d51">~EpollWrapper</a> ()</td></tr>
<tr class="memdesc:a8fe7c99f138f7bbcf9c09c2d7a570d51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for <a class="el" href="class_epoll_wrapper.html" title="Wrapper class for epoll instance.">EpollWrapper</a>.  <a href="class_epoll_wrapper.html#a8fe7c99f138f7bbcf9c09c2d7a570d51">More...</a><br /></td></tr>
<tr class="separator:a8fe7c99f138f7bbcf9c09c2d7a570d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a311509445062f6333287f2957b8b2e85"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_epoll_wrapper.html#a311509445062f6333287f2957b8b2e85">waitForEvents</a> ()</td></tr>
<tr class="memdesc:a311509445062f6333287f2957b8b2e85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for events on an epoll instance.  <a href="class_epoll_wrapper.html#a311509445062f6333287f2957b8b2e85">More...</a><br /></td></tr>
<tr class="separator:a311509445062f6333287f2957b8b2e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a351163f31995e5bab238fac131eb2185"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; struct epoll_event &gt;::const_iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_epoll_wrapper.html#a351163f31995e5bab238fac131eb2185">eventsBegin</a> () const</td></tr>
<tr class="memdesc:a351163f31995e5bab238fac131eb2185"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the beginning of the events vector.  <a href="class_epoll_wrapper.html#a351163f31995e5bab238fac131eb2185">More...</a><br /></td></tr>
<tr class="separator:a351163f31995e5bab238fac131eb2185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace2a6009a6c647babfc667c27df05354"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_epoll_wrapper.html#ace2a6009a6c647babfc667c27df05354">addEvent</a> (int newfd, uint32_t eventMask) const</td></tr>
<tr class="memdesc:ace2a6009a6c647babfc667c27df05354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an event to the epoll instance.  <a href="class_epoll_wrapper.html#ace2a6009a6c647babfc667c27df05354">More...</a><br /></td></tr>
<tr class="separator:ace2a6009a6c647babfc667c27df05354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac97945725185999837a6d0d53f91df1a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_epoll_wrapper.html#ac97945725185999837a6d0d53f91df1a">modifyEvent</a> (int modfd, uint32_t eventMask) const</td></tr>
<tr class="memdesc:ac97945725185999837a6d0d53f91df1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modify an event in the epoll instance.  <a href="class_epoll_wrapper.html#ac97945725185999837a6d0d53f91df1a">More...</a><br /></td></tr>
<tr class="separator:ac97945725185999837a6d0d53f91df1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d7cd3090f8d8d0f10c2d9edb136d59"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_epoll_wrapper.html#a30d7cd3090f8d8d0f10c2d9edb136d59">removeEvent</a> (int delfd) const</td></tr>
<tr class="memdesc:a30d7cd3090f8d8d0f10c2d9edb136d59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an event from the epoll instance.  <a href="class_epoll_wrapper.html#a30d7cd3090f8d8d0f10c2d9edb136d59">More...</a><br /></td></tr>
<tr class="separator:a30d7cd3090f8d8d0f10c2d9edb136d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Wrapper class for epoll instance. </p>
<p>This class is a wrapper for the epoll instance. It is responsible for the creation and destruction of the epoll instance. It also provides a function to wait for events on the epoll instance and functions to add, modify and remove file descriptors from the epoll instance. It can also be mocked for testing purposes. </p>

<p class="definition">Definition at line <a class="el" href="_epoll_wrapper_8hpp_source.html#l00020">20</a> of file <a class="el" href="_epoll_wrapper_8hpp_source.html">EpollWrapper.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a86a9d590472213c7253b26aefbda8c50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86a9d590472213c7253b26aefbda8c50">&#9670;&nbsp;</a></span>EpollWrapper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">EpollWrapper::EpollWrapper </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxEvents</em> = <code>s_epollMaxEvents</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>epollTimeout</em> = <code>s_epollTimeout</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for <a class="el" href="class_epoll_wrapper.html" title="Wrapper class for epoll instance.">EpollWrapper</a>. </p>
<p>This constructor creates an epoll instance and initializes the epoll events vector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxEvents</td><td>Represents the maximum number of events that can be processed by the epoll instance. This value determines the size of the event vector used by epoll to store events that are ready for processing. It is used to allocate memory for the array that holds the events returned by <code>epoll_wait</code>. </td></tr>
    <tr><td class="paramname">epollTimeout</td><td>Represents the timeout value in milliseconds for the <code>epoll_wait</code> function. This function is used for waiting for events on an epoll instance. The <code>epoll_wait</code> function will block for this duration if no events are available before returning </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_epoll_wrapper_8cpp_source.html#l00015">15</a> of file <a class="el" href="_epoll_wrapper_8cpp_source.html">EpollWrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    : m_epfd(epoll_create(1))</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    , m_events(maxEvents)</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    , m_timeout(epollTimeout)</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;{</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="keywordflow">if</span> (m_epfd == -1) {</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Failed to create epoll instance: &quot;</span> + std::string(std::strerror(errno)));</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    }</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8fe7c99f138f7bbcf9c09c2d7a570d51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fe7c99f138f7bbcf9c09c2d7a570d51">&#9670;&nbsp;</a></span>~EpollWrapper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">EpollWrapper::~EpollWrapper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor for <a class="el" href="class_epoll_wrapper.html" title="Wrapper class for epoll instance.">EpollWrapper</a>. </p>
<p>This destructor closes the epoll instance. </p>

<p class="definition">Definition at line <a class="el" href="_epoll_wrapper_8cpp_source.html#l00030">30</a> of file <a class="el" href="_epoll_wrapper_8cpp_source.html">EpollWrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;{ close(m_epfd); }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a311509445062f6333287f2957b8b2e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a311509445062f6333287f2957b8b2e85">&#9670;&nbsp;</a></span>waitForEvents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int EpollWrapper::waitForEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for events on an epoll instance. </p>
<p>If epoll_wait returns -1, it checks if the error is due to an interrupt signal. If it is, it returns 0. Otherwise, it throws a runtime error with the error message. If epoll_wait returns 0, it logs a timeout message. Otherwise, it logs the number of events.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of events that occurred.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if epoll_wait() encounters an error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_epoll_wrapper_8cpp_source.html#l00043">43</a> of file <a class="el" href="_epoll_wrapper_8cpp_source.html">EpollWrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="_log_8hpp.html#a6ff63e8955665c4a58b1598f2b07c51a">LOG_DEBUG</a> &lt;&lt; <span class="stringliteral">&quot;Waiting for events&quot;</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nfds = epoll_wait(m_epfd, &amp;m_events[0], <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(m_events.size()), m_timeout);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> (nfds == -1) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">if</span> (errno == EINTR)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;epoll_wait:&quot;</span> + std::string(strerror(errno)));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span> (nfds == 0)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="_log_8hpp.html#a6ff63e8955665c4a58b1598f2b07c51a">LOG_DEBUG</a> &lt;&lt; <span class="stringliteral">&quot;epoll_wait: Timeout&quot;</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="_log_8hpp.html#a6ff63e8955665c4a58b1598f2b07c51a">LOG_DEBUG</a> &lt;&lt; <span class="stringliteral">&quot;epoll_wait: &quot;</span> &lt;&lt; nfds &lt;&lt; <span class="stringliteral">&quot; events&quot;</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> nfds;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="ttc" id="a_log_8hpp_html_a6ff63e8955665c4a58b1598f2b07c51a"><div class="ttname"><a href="_log_8hpp.html#a6ff63e8955665c4a58b1598f2b07c51a">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="_log_8hpp_source.html#l00010">Log.hpp:10</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_epoll_wrapper_a311509445062f6333287f2957b8b2e85_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a351163f31995e5bab238fac131eb2185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a351163f31995e5bab238fac131eb2185">&#9670;&nbsp;</a></span>eventsBegin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; struct epoll_event &gt;::const_iterator EpollWrapper::eventsBegin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the beginning of the events vector. </p>
<dl class="section return"><dt>Returns</dt><dd>A const iterator to the beginning of the events vector. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_epoll_wrapper_8cpp_source.html#l00066">66</a> of file <a class="el" href="_epoll_wrapper_8cpp_source.html">EpollWrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{ <span class="keywordflow">return</span> m_events.begin(); }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_epoll_wrapper_a351163f31995e5bab238fac131eb2185_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ace2a6009a6c647babfc667c27df05354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace2a6009a6c647babfc667c27df05354">&#9670;&nbsp;</a></span>addEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EpollWrapper::addEvent </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>eventMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an event to the epoll instance. </p>
<p>Calls epoll_ctl() with EPOLL_CTL_ADD to add a new event to the epoll instance. It sets event.data.fd to newfd and event.events to eventMask. If epoll_ctl returns -1, it logs an error message and returns false.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newfd</td><td>The file descriptor of the new event. </td></tr>
    <tr><td class="paramname">eventMask</td><td>The eventmask of the new event to add.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the event was successfully added, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_epoll_wrapper_8cpp_source.html#l00080">80</a> of file <a class="el" href="_epoll_wrapper_8cpp_source.html">EpollWrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">struct </span>epoll_event event = {};</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">event</span>.events = eventMask;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">event</span>.data.fd = newfd;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (-1 == epoll_ctl(m_epfd, EPOLL_CTL_ADD, newfd, &amp;event)) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="_log_8hpp.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a> &lt;&lt; <span class="stringliteral">&quot;epoll_ctl: EPOLL_CTL_ADD: &quot;</span> &lt;&lt; strerror(errno);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="_log_8hpp.html#a6ff63e8955665c4a58b1598f2b07c51a">LOG_DEBUG</a> &lt;&lt; <span class="stringliteral">&quot;epoll_ctl: Added new fd: &quot;</span> &lt;&lt; newfd;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="ttc" id="a_log_8hpp_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="_log_8hpp.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="_log_8hpp_source.html#l00013">Log.hpp:13</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_epoll_wrapper_ace2a6009a6c647babfc667c27df05354_icgraph.svg" width="100%" height="461"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac97945725185999837a6d0d53f91df1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac97945725185999837a6d0d53f91df1a">&#9670;&nbsp;</a></span>modifyEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool EpollWrapper::modifyEvent </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>modfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>eventMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Modify an event in the epoll instance. </p>
<p>Calls epoll_ctl() with EPOLL_CTL_MOD to modify an existing event in the epoll instance. It sets event.data.fd to modfd and event.events to eventMask. If epoll_ctl() returns -1, it logs an error message and returns false.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modfd</td><td>The file descriptor of the event to modify. </td></tr>
    <tr><td class="paramname">eventMask</td><td>The eventmask of the modified event.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the event was successfully modified, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_epoll_wrapper_8cpp_source.html#l00107">107</a> of file <a class="el" href="_epoll_wrapper_8cpp_source.html">EpollWrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">struct </span>epoll_event event = {};</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keyword">event</span>.events = eventMask;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keyword">event</span>.data.fd = modfd;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (-1 == epoll_ctl(m_epfd, EPOLL_CTL_MOD, modfd, &amp;event)) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="_log_8hpp.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a> &lt;&lt; <span class="stringliteral">&quot;epoll_ctl: EPOLL_CTL_MOD: &quot;</span> &lt;&lt; strerror(errno);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="_log_8hpp.html#a6ff63e8955665c4a58b1598f2b07c51a">LOG_DEBUG</a> &lt;&lt; <span class="stringliteral">&quot;epoll_ctl: Modified fd: &quot;</span> &lt;&lt; modfd;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_epoll_wrapper_ac97945725185999837a6d0d53f91df1a_icgraph.svg" width="100%" height="546"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a30d7cd3090f8d8d0f10c2d9edb136d59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30d7cd3090f8d8d0f10c2d9edb136d59">&#9670;&nbsp;</a></span>removeEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void EpollWrapper::removeEvent </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delfd</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove an event from the epoll instance. </p>
<p>Calls epoll_ctl() with EPOLL_CTL_DEL to remove an existing event from the epoll instance. If epoll_ctl returns -1, it logs an error message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delfd</td><td>The file descriptor of the event to remove. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_epoll_wrapper_8cpp_source.html#l00129">129</a> of file <a class="el" href="_epoll_wrapper_8cpp_source.html">EpollWrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> (-1 == epoll_ctl(m_epfd, EPOLL_CTL_DEL, delfd, NULL)) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="_log_8hpp.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a> &lt;&lt; <span class="stringliteral">&quot;epoll_ctl: EPOLL_CTL_DEL: &quot;</span> &lt;&lt; strerror(errno);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="_log_8hpp.html#a6ff63e8955665c4a58b1598f2b07c51a">LOG_DEBUG</a> &lt;&lt; <span class="stringliteral">&quot;epoll_ctl: Removed fd: &quot;</span> &lt;&lt; delfd;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_epoll_wrapper_a30d7cd3090f8d8d0f10c2d9edb136d59_icgraph.svg" width="100%" height="385"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>inc/<a class="el" href="_epoll_wrapper_8hpp_source.html">EpollWrapper.hpp</a></li>
<li>src/<a class="el" href="_epoll_wrapper_8cpp_source.html">EpollWrapper.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_epoll_wrapper.html">EpollWrapper</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
