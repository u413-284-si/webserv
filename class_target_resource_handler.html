<!-- HTML header for doxygen 1.9.4-->
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=11" />
	<meta name="generator" content="Doxygen 1.9.1" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>webserv: TargetResourceHandler Class Reference</title>
	<link href="tabs.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<link href="doxygen.css" rel="stylesheet" type="text/css" />
	<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
	<script type="text/javascript">
		DoxygenAwesomeDarkModeToggle.init()
	</script>
	<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
	<script type="text/javascript">
		DoxygenAwesomeFragmentCopyButton.init()
	</script>
	<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
	<script type="text/javascript">
		DoxygenAwesomeParagraphLink.init()
	</script>
</head>
<body>
		<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
			<div id="titlearea">
				<table cellspacing="0" cellpadding="0">
					<tbody>
						<tr id="projectrow">
							<td id="projectalign">
								<div id="projectname">webserv
								</div>
								<div id="projectbrief">This is when you finally understand why a URL starts with HTTP.</div>
							</td>
						</tr>
						<!--BEGIN FULL_SIDEBAR-->
						<tr>
							<td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
						</tr>
						<!--END FULL_SIDEBAR-->
					</tbody>
				</table>
			</div>
			<!-- end header part --><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_target_resource_handler.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_target_resource_handler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TargetResourceHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to handle the target resource of a HTTP Request.  
 <a href="class_target_resource_handler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_target_resource_handler_8hpp_source.html">TargetResourceHandler.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae423b7676a4f78d900a3138420891caa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_target_resource_handler.html#ae423b7676a4f78d900a3138420891caa">TargetResourceHandler</a> (const <a class="el" href="class_file_system_policy.html">FileSystemPolicy</a> &amp;fileSystemPolicy)</td></tr>
<tr class="memdesc:ae423b7676a4f78d900a3138420891caa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="class_target_resource_handler.html" title="Class to handle the target resource of a HTTP Request.">TargetResourceHandler</a> object.  <a href="class_target_resource_handler.html#ae423b7676a4f78d900a3138420891caa">More...</a><br /></td></tr>
<tr class="separator:ae423b7676a4f78d900a3138420891caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa54e6f6f23de3c3e5ff256f43079a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_target_resource_handler.html#adaa54e6f6f23de3c3e5ff256f43079a7">execute</a> (<a class="el" href="struct_connection.html">Connection</a> &amp;connection, <a class="el" href="struct_h_t_t_p_request.html">HTTPRequest</a> &amp;request)</td></tr>
<tr class="memdesc:adaa54e6f6f23de3c3e5ff256f43079a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine target resource based on the request path and handle different file types and statuses accordingly.  <a href="class_target_resource_handler.html#adaa54e6f6f23de3c3e5ff256f43079a7">More...</a><br /></td></tr>
<tr class="separator:adaa54e6f6f23de3c3e5ff256f43079a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to handle the target resource of a HTTP Request. </p>
<p>The <a class="el" href="class_file_system_policy.html" title="Class for C functions on the file system.">FileSystemPolicy</a> passed in the constructor needs to outlive this class. A mock of <a class="el" href="class_file_system_policy.html" title="Class for C functions on the file system.">FileSystemPolicy</a> can be used for testing. </p>

<p class="definition">Definition at line <a class="el" href="_target_resource_handler_8hpp_source.html#l00019">19</a> of file <a class="el" href="_target_resource_handler_8hpp_source.html">TargetResourceHandler.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae423b7676a4f78d900a3138420891caa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae423b7676a4f78d900a3138420891caa">&#9670;&nbsp;</a></span>TargetResourceHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TargetResourceHandler::TargetResourceHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_file_system_policy.html">FileSystemPolicy</a> &amp;&#160;</td>
          <td class="paramname"><em>fileSystemPolicy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="class_target_resource_handler.html" title="Class to handle the target resource of a HTTP Request.">TargetResourceHandler</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileSystemPolicy</td><td>File system policy to be used. Can be mocked if needed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_target_resource_handler_8cpp_source.html#l00008">8</a> of file <a class="el" href="_target_resource_handler_8cpp_source.html">TargetResourceHandler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    : m_fileSystemPolicy(fileSystemPolicy)</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;{</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adaa54e6f6f23de3c3e5ff256f43079a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaa54e6f6f23de3c3e5ff256f43079a7">&#9670;&nbsp;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TargetResourceHandler::execute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_h_t_t_p_request.html">HTTPRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine target resource based on the request path and handle different file types and statuses accordingly. </p>
<p>Finds a matching location block. If no match is found set Status to StatusNotFound. Set the targetResource as location.root + request.uri.path and check file type. RegularFile: break, nothing more to do. <a class="el" href="class_directory.html" title="Wrapper class for DIR pointer.">Directory</a>: if no trailing slash, add it and set Status to StatusMovedPermanently. if index file is set, add it to the path and set internalRedirect to true. if autoindex is set, set autoindex to true. else set Status to StatusForbidden. FileNotExist: set Status to StatusNotFound. FileOther: set Status to StatusForbidden. If internalRedirect is true, repeat the process. If stat fails, set Status to StatusInternalServerError. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td><a class="el" href="struct_connection.html" title="Represents a connection between a server and a client.">Connection</a> object. </td></tr>
    <tr><td class="paramname">request</td><td>HTTP request. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_target_resource_handler_8cpp_source.html#l00031">31</a> of file <a class="el" href="_target_resource_handler_8cpp_source.html">TargetResourceHandler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordtype">bool</span> internalRedirect = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="comment">// Check which location block matches the path</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        connection.<a class="code" href="struct_connection.html#afff86c74740618d83bab5af4f34d10af">location</a> = <a class="code" href="_target_resource_handler_8cpp.html#a3bd08192e5875b2c101b6f9aa2a99a5c">matchLocation</a>(connection.<a class="code" href="struct_connection.html#ab46ab3763ce344bbbeb9de1fec5faf7f">serverConfig</a>-&gt;locations, request.<a class="code" href="struct_h_t_t_p_request.html#a8f0516b557f9a1dee237d00e48aaac69">uri</a>.<a class="code" href="struct_u_r_i.html#a18b7b6f3328197824e58dc4cf46301df">path</a>);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="comment">// No location found &gt; do we also set a default location to not make extra check?</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">if</span> (connection.<a class="code" href="struct_connection.html#afff86c74740618d83bab5af4f34d10af">location</a> == connection.<a class="code" href="struct_connection.html#ab46ab3763ce344bbbeb9de1fec5faf7f">serverConfig</a>-&gt;locations.end()) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            request.<a class="code" href="struct_h_t_t_p_request.html#a4ab3aefab7679eeb2b4e97f7043bdff3">httpStatus</a> = <a class="code" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85eaacc2d46317d90488f241e11a10a531415">StatusNotFound</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="comment">// construct target resource</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">if</span> (!internalRedirect)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            request.<a class="code" href="struct_h_t_t_p_request.html#ac522679ff584409d63f47fbe40f2b5f3">targetResource</a> = connection.<a class="code" href="struct_connection.html#afff86c74740618d83bab5af4f34d10af">location</a>-&gt;root + request.<a class="code" href="struct_h_t_t_p_request.html#a8f0516b557f9a1dee237d00e48aaac69">uri</a>.<a class="code" href="struct_u_r_i.html#a18b7b6f3328197824e58dc4cf46301df">path</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        internalRedirect = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="comment">// what type is it</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <a class="code" href="class_file_system_policy.html#ac1afacb18cc767fb28a8feeb403a5765">FileSystemPolicy::fileType</a> fileType = m_fileSystemPolicy.<a class="code" href="class_file_system_policy.html#a6fa9dbd0b2ea4656d86bbe4dc966bf71">checkFileType</a>(request.<a class="code" href="struct_h_t_t_p_request.html#ac522679ff584409d63f47fbe40f2b5f3">targetResource</a>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="keywordflow">switch</span> (fileType) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="class_file_system_policy.html#ac1afacb18cc767fb28a8feeb403a5765a1816f4c43049bf30c9b9ca7be5f61903">FileSystemPolicy::FileRegular</a>:</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="class_file_system_policy.html#ac1afacb18cc767fb28a8feeb403a5765a0fe6dec4a353f4f58405623e466b2bed">FileSystemPolicy::FileDirectory</a>:</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keywordflow">if</span> (request.<a class="code" href="struct_h_t_t_p_request.html#ac522679ff584409d63f47fbe40f2b5f3">targetResource</a>.at(request.<a class="code" href="struct_h_t_t_p_request.html#ac522679ff584409d63f47fbe40f2b5f3">targetResource</a>.length() - 1) != <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    request.<a class="code" href="struct_h_t_t_p_request.html#ac522679ff584409d63f47fbe40f2b5f3">targetResource</a> += <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                    request.<a class="code" href="struct_h_t_t_p_request.html#a4ab3aefab7679eeb2b4e97f7043bdff3">httpStatus</a> = <a class="code" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85eaa1c6f932779ead46cd38c8b718a712d46">StatusMovedPermanently</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!connection.<a class="code" href="struct_connection.html#afff86c74740618d83bab5af4f34d10af">location</a>-&gt;indices.empty()) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                    request.<a class="code" href="struct_h_t_t_p_request.html#ac522679ff584409d63f47fbe40f2b5f3">targetResource</a> += connection.<a class="code" href="struct_connection.html#afff86c74740618d83bab5af4f34d10af">location</a>-&gt;indices[0];</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                    internalRedirect = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (connection.<a class="code" href="struct_connection.html#afff86c74740618d83bab5af4f34d10af">location</a>-&gt;isAutoindex) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                    request.<a class="code" href="struct_h_t_t_p_request.html#a745c64e106ae20b1404a86e579ad94f0">hasAutoindex</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                    request.<a class="code" href="struct_h_t_t_p_request.html#a4ab3aefab7679eeb2b4e97f7043bdff3">httpStatus</a> = <a class="code" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85eaa6d2a8bfcc1a80267da418ab4224a1345">StatusForbidden</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="class_file_system_policy.html#ac1afacb18cc767fb28a8feeb403a5765a9ef115d8182ffe784d7929bf19e49fa9">FileSystemPolicy::FileNotExist</a>:</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                request.<a class="code" href="struct_h_t_t_p_request.html#a4ab3aefab7679eeb2b4e97f7043bdff3">httpStatus</a> = <a class="code" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85eaacc2d46317d90488f241e11a10a531415">StatusNotFound</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="class_file_system_policy.html#ac1afacb18cc767fb28a8feeb403a5765a550eac005a52930e389644580c112797">FileSystemPolicy::FileOther</a>:</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                request.<a class="code" href="struct_h_t_t_p_request.html#a4ab3aefab7679eeb2b4e97f7043bdff3">httpStatus</a> = <a class="code" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85eaa6d2a8bfcc1a80267da418ab4224a1345">StatusForbidden</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::runtime_error&amp; e) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="_log_8hpp.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a> &lt;&lt; e.what();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            request.<a class="code" href="struct_h_t_t_p_request.html#a4ab3aefab7679eeb2b4e97f7043bdff3">httpStatus</a> = <a class="code" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85eaa9a10085fda0665e4093f44aff66484bc">StatusInternalServerError</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    } <span class="keywordflow">while</span> (internalRedirect);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="_log_8hpp.html#a6ff63e8955665c4a58b1598f2b07c51a">LOG_DEBUG</a> &lt;&lt; <span class="stringliteral">&quot;Target resource: &quot;</span> &lt;&lt; request.<a class="code" href="struct_h_t_t_p_request.html#ac522679ff584409d63f47fbe40f2b5f3">targetResource</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
<div class="ttc" id="a_log_8hpp_html_a6ff63e8955665c4a58b1598f2b07c51a"><div class="ttname"><a href="_log_8hpp.html#a6ff63e8955665c4a58b1598f2b07c51a">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="_log_8hpp_source.html#l00010">Log.hpp:10</a></div></div>
<div class="ttc" id="a_log_8hpp_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="_log_8hpp.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="_log_8hpp_source.html#l00013">Log.hpp:13</a></div></div>
<div class="ttc" id="a_status_code_8hpp_html_a0506d82d6e3d6758981ff5eac9ca85eaa1c6f932779ead46cd38c8b718a712d46"><div class="ttname"><a href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85eaa1c6f932779ead46cd38c8b718a712d46">StatusMovedPermanently</a></div><div class="ttdeci">@ StatusMovedPermanently</div><div class="ttdef"><b>Definition:</b> <a href="_status_code_8hpp_source.html#l00007">StatusCode.hpp:7</a></div></div>
<div class="ttc" id="a_status_code_8hpp_html_a0506d82d6e3d6758981ff5eac9ca85eaa6d2a8bfcc1a80267da418ab4224a1345"><div class="ttname"><a href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85eaa6d2a8bfcc1a80267da418ab4224a1345">StatusForbidden</a></div><div class="ttdeci">@ StatusForbidden</div><div class="ttdef"><b>Definition:</b> <a href="_status_code_8hpp_source.html#l00009">StatusCode.hpp:9</a></div></div>
<div class="ttc" id="a_status_code_8hpp_html_a0506d82d6e3d6758981ff5eac9ca85eaa9a10085fda0665e4093f44aff66484bc"><div class="ttname"><a href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85eaa9a10085fda0665e4093f44aff66484bc">StatusInternalServerError</a></div><div class="ttdeci">@ StatusInternalServerError</div><div class="ttdef"><b>Definition:</b> <a href="_status_code_8hpp_source.html#l00015">StatusCode.hpp:15</a></div></div>
<div class="ttc" id="a_status_code_8hpp_html_a0506d82d6e3d6758981ff5eac9ca85eaacc2d46317d90488f241e11a10a531415"><div class="ttname"><a href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85eaacc2d46317d90488f241e11a10a531415">StatusNotFound</a></div><div class="ttdeci">@ StatusNotFound</div><div class="ttdef"><b>Definition:</b> <a href="_status_code_8hpp_source.html#l00010">StatusCode.hpp:10</a></div></div>
<div class="ttc" id="a_target_resource_handler_8cpp_html_a3bd08192e5875b2c101b6f9aa2a99a5c"><div class="ttname"><a href="_target_resource_handler_8cpp.html#a3bd08192e5875b2c101b6f9aa2a99a5c">matchLocation</a></div><div class="ttdeci">std::vector&lt; Location &gt;::const_iterator matchLocation(const std::vector&lt; Location &gt; &amp;locations, const std::string &amp;path)</div><div class="ttdoc">Iterate through Location objects to find longest matching path based on a given input path.</div><div class="ttdef"><b>Definition:</b> <a href="_target_resource_handler_8cpp_source.html#l00099">TargetResourceHandler.cpp:99</a></div></div>
<div class="ttc" id="aclass_file_system_policy_html_a6fa9dbd0b2ea4656d86bbe4dc966bf71"><div class="ttname"><a href="class_file_system_policy.html#a6fa9dbd0b2ea4656d86bbe4dc966bf71">FileSystemPolicy::checkFileType</a></div><div class="ttdeci">virtual fileType checkFileType(const std::string &amp;path) const</div><div class="ttdoc">Check the file type of a given path.</div><div class="ttdef"><b>Definition:</b> <a href="_file_system_policy_8cpp_source.html#l00021">FileSystemPolicy.cpp:21</a></div></div>
<div class="ttc" id="aclass_file_system_policy_html_ac1afacb18cc767fb28a8feeb403a5765"><div class="ttname"><a href="class_file_system_policy.html#ac1afacb18cc767fb28a8feeb403a5765">FileSystemPolicy::fileType</a></div><div class="ttdeci">fileType</div><div class="ttdef"><b>Definition:</b> <a href="_file_system_policy_8hpp_source.html#l00024">FileSystemPolicy.hpp:24</a></div></div>
<div class="ttc" id="aclass_file_system_policy_html_ac1afacb18cc767fb28a8feeb403a5765a0fe6dec4a353f4f58405623e466b2bed"><div class="ttname"><a href="class_file_system_policy.html#ac1afacb18cc767fb28a8feeb403a5765a0fe6dec4a353f4f58405623e466b2bed">FileSystemPolicy::FileDirectory</a></div><div class="ttdeci">@ FileDirectory</div><div class="ttdef"><b>Definition:</b> <a href="_file_system_policy_8hpp_source.html#l00024">FileSystemPolicy.hpp:24</a></div></div>
<div class="ttc" id="aclass_file_system_policy_html_ac1afacb18cc767fb28a8feeb403a5765a1816f4c43049bf30c9b9ca7be5f61903"><div class="ttname"><a href="class_file_system_policy.html#ac1afacb18cc767fb28a8feeb403a5765a1816f4c43049bf30c9b9ca7be5f61903">FileSystemPolicy::FileRegular</a></div><div class="ttdeci">@ FileRegular</div><div class="ttdef"><b>Definition:</b> <a href="_file_system_policy_8hpp_source.html#l00024">FileSystemPolicy.hpp:24</a></div></div>
<div class="ttc" id="aclass_file_system_policy_html_ac1afacb18cc767fb28a8feeb403a5765a550eac005a52930e389644580c112797"><div class="ttname"><a href="class_file_system_policy.html#ac1afacb18cc767fb28a8feeb403a5765a550eac005a52930e389644580c112797">FileSystemPolicy::FileOther</a></div><div class="ttdeci">@ FileOther</div><div class="ttdef"><b>Definition:</b> <a href="_file_system_policy_8hpp_source.html#l00024">FileSystemPolicy.hpp:24</a></div></div>
<div class="ttc" id="aclass_file_system_policy_html_ac1afacb18cc767fb28a8feeb403a5765a9ef115d8182ffe784d7929bf19e49fa9"><div class="ttname"><a href="class_file_system_policy.html#ac1afacb18cc767fb28a8feeb403a5765a9ef115d8182ffe784d7929bf19e49fa9">FileSystemPolicy::FileNotExist</a></div><div class="ttdeci">@ FileNotExist</div><div class="ttdef"><b>Definition:</b> <a href="_file_system_policy_8hpp_source.html#l00024">FileSystemPolicy.hpp:24</a></div></div>
<div class="ttc" id="astruct_connection_html_ab46ab3763ce344bbbeb9de1fec5faf7f"><div class="ttname"><a href="struct_connection.html#ab46ab3763ce344bbbeb9de1fec5faf7f">Connection::serverConfig</a></div><div class="ttdeci">std::vector&lt; ConfigServer &gt;::const_iterator serverConfig</div><div class="ttdef"><b>Definition:</b> <a href="_connection_8hpp_source.html#l00036">Connection.hpp:36</a></div></div>
<div class="ttc" id="astruct_connection_html_afff86c74740618d83bab5af4f34d10af"><div class="ttname"><a href="struct_connection.html#afff86c74740618d83bab5af4f34d10af">Connection::location</a></div><div class="ttdeci">std::vector&lt; Location &gt;::const_iterator location</div><div class="ttdef"><b>Definition:</b> <a href="_connection_8hpp_source.html#l00037">Connection.hpp:37</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_request_html_a4ab3aefab7679eeb2b4e97f7043bdff3"><div class="ttname"><a href="struct_h_t_t_p_request.html#a4ab3aefab7679eeb2b4e97f7043bdff3">HTTPRequest::httpStatus</a></div><div class="ttdeci">statusCode httpStatus</div><div class="ttdef"><b>Definition:</b> <a href="_h_t_t_p_request_8hpp_source.html#l00027">HTTPRequest.hpp:27</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_request_html_a745c64e106ae20b1404a86e579ad94f0"><div class="ttname"><a href="struct_h_t_t_p_request.html#a745c64e106ae20b1404a86e579ad94f0">HTTPRequest::hasAutoindex</a></div><div class="ttdeci">bool hasAutoindex</div><div class="ttdef"><b>Definition:</b> <a href="_h_t_t_p_request_8hpp_source.html#l00032">HTTPRequest.hpp:32</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_request_html_a8f0516b557f9a1dee237d00e48aaac69"><div class="ttname"><a href="struct_h_t_t_p_request.html#a8f0516b557f9a1dee237d00e48aaac69">HTTPRequest::uri</a></div><div class="ttdeci">URI uri</div><div class="ttdef"><b>Definition:</b> <a href="_h_t_t_p_request_8hpp_source.html#l00023">HTTPRequest.hpp:23</a></div></div>
<div class="ttc" id="astruct_h_t_t_p_request_html_ac522679ff584409d63f47fbe40f2b5f3"><div class="ttname"><a href="struct_h_t_t_p_request.html#ac522679ff584409d63f47fbe40f2b5f3">HTTPRequest::targetResource</a></div><div class="ttdeci">std::string targetResource</div><div class="ttdef"><b>Definition:</b> <a href="_h_t_t_p_request_8hpp_source.html#l00031">HTTPRequest.hpp:31</a></div></div>
<div class="ttc" id="astruct_u_r_i_html_a18b7b6f3328197824e58dc4cf46301df"><div class="ttname"><a href="struct_u_r_i.html#a18b7b6f3328197824e58dc4cf46301df">URI::path</a></div><div class="ttdeci">std::string path</div><div class="ttdef"><b>Definition:</b> <a href="_h_t_t_p_request_8hpp_source.html#l00014">HTTPRequest.hpp:14</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_target_resource_handler_adaa54e6f6f23de3c3e5ff256f43079a7_cgraph.svg" width="463" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_target_resource_handler_adaa54e6f6f23de3c3e5ff256f43079a7_icgraph.svg" width="100%" height="404"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>inc/<a class="el" href="_target_resource_handler_8hpp_source.html">TargetResourceHandler.hpp</a></li>
<li>src/<a class="el" href="_target_resource_handler_8cpp_source.html">TargetResourceHandler.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_target_resource_handler.html">TargetResourceHandler</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
