<!-- HTML header for doxygen 1.9.4-->
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=11" />
	<meta name="generator" content="Doxygen 1.9.8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>webserv: server_response.conftest Namespace Reference</title>
	<link href="tabs.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<link href="doxygen.css" rel="stylesheet" type="text/css" />
	<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
	<script type="text/javascript">
		DoxygenAwesomeDarkModeToggle.init()
	</script>
	<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
	<script type="text/javascript">
		DoxygenAwesomeFragmentCopyButton.init()
	</script>
	<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
	<script type="text/javascript">
		DoxygenAwesomeParagraphLink.init()
	</script>
</head>
<body>
		<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
			<div id="titlearea">
				<table cellspacing="0" cellpadding="0">
					<tbody>
						<tr id="projectrow">
							<td id="projectalign">
								<div id="projectname">webserv
								</div>
								<div id="projectbrief">This is when you finally understand why a URL starts with HTTP.</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<!-- end header part --><!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespaceserver__response_1_1conftest.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">server_response.conftest Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aec11e9704bcbdff92f51ae6eee21fad1" id="r_aec11e9704bcbdff92f51ae6eee21fad1"><td class="memItemLeft" align="right" valign="top">Generator[subprocess.Popen, None, None]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver__response_1_1conftest.html#aec11e9704bcbdff92f51ae6eee21fad1">init_server_instance</a> (FixtureRequest request)</td></tr>
<tr class="separator:aec11e9704bcbdff92f51ae6eee21fad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a984f855c24663dd8ebcadaf59a27142a" id="r_a984f855c24663dd8ebcadaf59a27142a"><td class="memItemLeft" align="right" valign="top">Generator[List[<a class="el" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">str</a>], None, None]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver__response_1_1conftest.html#a984f855c24663dd8ebcadaf59a27142a">test_file_cleanup</a> ()</td></tr>
<tr class="separator:a984f855c24663dd8ebcadaf59a27142a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8787e9394a9bae9d4970758ed62af73" id="r_ad8787e9394a9bae9d4970758ed62af73"><td class="memItemLeft" align="right" valign="top">Generator[None, None, None]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver__response_1_1conftest.html#ad8787e9394a9bae9d4970758ed62af73">temp_permission_change</a> ()</td></tr>
<tr class="separator:ad8787e9394a9bae9d4970758ed62af73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aec11e9704bcbdff92f51ae6eee21fad1" name="aec11e9704bcbdff92f51ae6eee21fad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec11e9704bcbdff92f51ae6eee21fad1">&#9670;&#160;</a></span>init_server_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Generator[subprocess.Popen, None, None] server_response.conftest.init_server_instance </td>
          <td>(</td>
          <td class="paramtype">FixtureRequest&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fixture to initialize and start a C++ server instance before tests and stop it after tests in the package.

This fixture starts the server with the specified executable and configuration,
waits for the server to start, and provides the server process to the tests. After
the tests are completed, it stops the server.

Args:
    request (FixtureRequest): The pytest request object, used to access command-line options.

Yields:
    subprocess.Popen: The process object representing the running server.</pre> 
<p class="definition">Definition at line <a class="el" href="server__response_2conftest_8py_source.html#l00011">11</a> of file <a class="el" href="server__response_2conftest_8py_source.html">conftest.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   11</span><span class="keyword">def </span>init_server_instance(request: FixtureRequest) -&gt; Generator[<a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">subprocess.Popen</a>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]:</div>
<div class="line"><span class="lineno">   12</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   13</span><span class="stringliteral">    Fixture to initialize and start a C++ server instance before tests and stop it after tests in the package.</span></div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   15</span><span class="stringliteral">    This fixture starts the server with the specified executable and configuration,</span></div>
<div class="line"><span class="lineno">   16</span><span class="stringliteral">    waits for the server to start, and provides the server process to the tests. After</span></div>
<div class="line"><span class="lineno">   17</span><span class="stringliteral">    the tests are completed, it stops the server.</span></div>
<div class="line"><span class="lineno">   18</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   19</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">   20</span><span class="stringliteral">        request (FixtureRequest): The pytest request object, used to access command-line options.</span></div>
<div class="line"><span class="lineno">   21</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   22</span><span class="stringliteral">    Yields:</span></div>
<div class="line"><span class="lineno">   23</span><span class="stringliteral">        subprocess.Popen: The process object representing the running server.</span></div>
<div class="line"><span class="lineno">   24</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   25</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   26</span> </div>
<div class="line"><span class="lineno">   27</span>    <span class="comment"># Get the command-line options passed to pytest</span></div>
<div class="line"><span class="lineno">   28</span>    server_executable = <a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">request.config.getoption</a>(<span class="stringliteral">&quot;--server-executable&quot;</span>)</div>
<div class="line"><span class="lineno">   29</span>    config_file = <a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">request.config.getoption</a>(<span class="stringliteral">&quot;--config-file&quot;</span>)</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>    <span class="comment"># Check if the user passed the --with-coverage option</span></div>
<div class="line"><span class="lineno">   32</span>    with_coverage = <a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">request.config.getoption</a>(<span class="stringliteral">&quot;--with-coverage&quot;</span>)</div>
<div class="line"><span class="lineno">   33</span> </div>
<div class="line"><span class="lineno">   34</span>    kcov_output_dir = <a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">request.config.getoption</a>(<span class="stringliteral">&quot;--kcov-output-dir&quot;</span>)</div>
<div class="line"><span class="lineno">   35</span>    kcov_excl_path = <a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">request.config.getoption</a>(<span class="stringliteral">&quot;--kcov-excl-path&quot;</span>)</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>    server_process = start_server(server_executable, config_file, with_coverage, kcov_output_dir, kcov_excl_path)</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>    wait_for_startup(server_process)</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>    <span class="comment"># Provide the server process to the tests</span></div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordflow">yield</span> server_process</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    stop_server(server_process)</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span><span class="preprocessor">@pytest.fixture</span></div>
<div class="ttc" id="a_status_code_8hpp_html_a0506d82d6e3d6758981ff5eac9ca85ea"><div class="ttname"><a href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">statusCode</a></div><div class="ttdeci">statusCode</div><div class="ttdef"><b>Definition</b> <a href="_status_code_8hpp_source.html#l00008">StatusCode.hpp:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a984f855c24663dd8ebcadaf59a27142a" name="a984f855c24663dd8ebcadaf59a27142a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a984f855c24663dd8ebcadaf59a27142a">&#9670;&#160;</a></span>test_file_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Generator[List[<a class="el" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">str</a>], None, None] server_response.conftest.test_file_cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fixture to clean up test files after a test.

Yields:
    List[str]: A list of file paths to be cleaned up after the test.
</pre> 
<p class="definition">Definition at line <a class="el" href="server__response_2conftest_8py_source.html#l00047">47</a> of file <a class="el" href="server__response_2conftest_8py_source.html">conftest.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span><span class="keyword">def </span>test_file_cleanup() -&gt; Generator[List[str], None, None]:</div>
<div class="line"><span class="lineno">   48</span>    <span class="stringliteral">&quot;&quot;&quot;Fixture to clean up test files after a test.</span></div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">    Yields:</span></div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">        List[str]: A list of file paths to be cleaned up after the test.</span></div>
<div class="line"><span class="lineno">   52</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   53</span>    files_to_cleanup: List[str] = []</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>    <span class="keywordflow">yield</span> files_to_cleanup</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    <span class="comment"># Restore permissions and clean up</span></div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">for</span> file_path <span class="keywordflow">in</span> files_to_cleanup:</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   60</span>            <a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">os.chmod</a>(file_path, 0o666)  <span class="comment"># Default to read/write for deletion</span></div>
<div class="line"><span class="lineno">   61</span>            <a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">os.remove</a>(file_path)</div>
<div class="line"><span class="lineno">   62</span>        <span class="keywordflow">except</span> FileNotFoundError:</div>
<div class="line"><span class="lineno">   63</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span><span class="preprocessor">@pytest.fixture</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8787e9394a9bae9d4970758ed62af73" name="ad8787e9394a9bae9d4970758ed62af73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8787e9394a9bae9d4970758ed62af73">&#9670;&#160;</a></span>temp_permission_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Generator[None, None, None] server_response.conftest.temp_permission_change </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fixture to temporarily change permissions of a file or directory.

Yields:
    None: Provides a context for the test to temporarily change file permissions.
</pre> 
<p class="definition">Definition at line <a class="el" href="server__response_2conftest_8py_source.html#l00066">66</a> of file <a class="el" href="server__response_2conftest_8py_source.html">conftest.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span><span class="keyword">def </span>temp_permission_change() -&gt; Generator[None, None, None]:</div>
<div class="line"><span class="lineno">   67</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">    Fixture to temporarily change permissions of a file or directory.</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral">    Yields:</span></div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">        None: Provides a context for the test to temporarily change file permissions.</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   73</span>    original_permissions = {}</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>    <span class="keyword">def </span><a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">set_permissions</a>(file_path: str, new_permissions: int) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   76</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">        Change the permissions of the given file and store the original permissions.</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral">        Args:</span></div>
<div class="line"><span class="lineno">   80</span><span class="stringliteral">            file_path (str): Path to the file or directory.</span></div>
<div class="line"><span class="lineno">   81</span><span class="stringliteral">            new_permissions (int): New permissions to apply (e.g., 0o000).</span></div>
<div class="line"><span class="lineno">   82</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   83</span>        <span class="keywordflow">if</span> file_path <span class="keywordflow">not</span> <span class="keywordflow">in</span> original_permissions:</div>
<div class="line"><span class="lineno">   84</span>            <span class="comment"># Store the original permissions</span></div>
<div class="line"><span class="lineno">   85</span>            original_permissions[file_path] = <a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">stat.S_IMODE</a>(<a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">os.stat</a>(file_path).st_mode)</div>
<div class="line"><span class="lineno">   86</span>        <span class="comment"># Set new permissions</span></div>
<div class="line"><span class="lineno">   87</span>        <a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">os.chmod</a>(file_path, new_permissions)</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">yield</span> set_permissions</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <span class="comment"># Restore original permissions</span></div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">for</span> file_path, permissions <span class="keywordflow">in</span> <a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">original_permissions.items</a>():</div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   94</span>            <a class="code hl_enumeration" href="_status_code_8hpp.html#a0506d82d6e3d6758981ff5eac9ca85ea">os.chmod</a>(file_path, permissions)</div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">except</span> FileNotFoundError:</div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">pass</span></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceserver__response.html">server_response</a></li><li class="navelem"><a class="el" href="namespaceserver__response_1_1conftest.html">conftest</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
